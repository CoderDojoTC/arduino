


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Resources for teaching Arduino to CoderDojo Twin Cities students.">
      
      
      
        <meta name="author" content="Dan McCreary">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.4.0">
    
    
      
        <title>RGB LED Lab - CoderDojo TC Arduino</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.fe0cca5b.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.a46bcfb3.min.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="#642580" data-md-color-accent="#41bac1">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#rgb-led-lab" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="CoderDojo TC Arduino" class="md-header-nav__button md-logo" aria-label="CoderDojo TC Arduino">
      
  <img src="../../img/coderdojo-logo.png" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            CoderDojo TC Arduino
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              RGB LED Lab
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/CoderDojoTC/arduino/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    arduino
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="CoderDojo TC Arduino" class="md-nav__button md-logo" aria-label="CoderDojo TC Arduino">
      
  <img src="../../img/coderdojo-logo.png" alt="logo">

    </a>
    CoderDojo TC Arduino
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/CoderDojoTC/arduino/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    arduino
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="https://coderdojotc.github.io/CoderDojoTC/" title="CoderDojo TC" class="md-nav__link">
      CoderDojo TC
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../purchasing-guide/" title="Purchasing Guide" class="md-nav__link">
      Purchasing Guide
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../costume-kit-parts/" title="Costume Kit Parts List" class="md-nav__link">
      Costume Kit Parts List
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Beginning Arduino Online with Tinkercad
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Beginning Arduino Online with Tinkercad" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Beginning Arduino Online with Tinkercad
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../00-intro/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../00-tinkercad-account-setup/" title="Tinkercad Account" class="md-nav__link">
      Tinkercad Account
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../01-blink/" title="Blink" class="md-nav__link">
      Blink
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../02-blink-three-leds/" title="Blink Three LEDs" class="md-nav__link">
      Blink Three LEDs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../03-change-blink-speed/" title="Use Pot to Change Blink Speed" class="md-nav__link">
      Use Pot to Change Blink Speed
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Arduino Uno
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Arduino Uno" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Arduino Uno
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../uno/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Beginning Arduino (Nano Version)
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Beginning Arduino (Nano Version)" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Beginning Arduino (Nano Version)
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../nano/01-blink/" title="Blink" class="md-nav__link">
      Blink
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../nano/02-three-leds/" title="Three LEDs" class="md-nav__link">
      Three LEDs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../nano/03-blink-speed-pot/" title="Blink Speed Pot" class="md-nav__link">
      Blink Speed Pot
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../nano/04-rgb-leds/" title="RGB LEDs" class="md-nav__link">
      RGB LEDs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../nano/05-ping/" title="Ping" class="md-nav__link">
      Ping
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../nano/07-servo/" title="Servo" class="md-nav__link">
      Servo
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Arduino LED Strip with Tinkercad
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Arduino LED Strip with Tinkercad" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Arduino LED Strip with Tinkercad
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tinkercad-neopixel/00-intro/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tinkercad-neopixel/01-blink/" title="Blink" class="md-nav__link">
      Blink
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tinkercad-neopixel/02-move/" title="Move" class="md-nav__link">
      Move
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tinkercad-neopixel/03-back-and-forth/" title="Back and Forth" class="md-nav__link">
      Back and Forth
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tinkercad-neopixel/04-rgb-back-and-forth/" title="Move Red, Green, Blue" class="md-nav__link">
      Move Red, Green, Blue
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Arduino Displays
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Arduino Displays" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Arduino Displays
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../display/00-intro/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../display/oled.md" title="The OLED Display" class="md-nav__link">
      The OLED Display
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../glossary/" title="Glossary" class="md-nav__link">
      Glossary
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../instructors-guide/" title="Instructors Guide" class="md-nav__link">
      Instructors Guide
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../contribute/" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../resources/" title="Resources" class="md-nav__link">
      Resources
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../contact/" title="Contact" class="md-nav__link">
      Contact
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#concepts" class="md-nav__link">
    Concepts
  </a>
  
    <nav class="md-nav" aria-label="Concepts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rgb-led" class="md-nav__link">
    RGB LED
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#varying-color-and-brightness-using-analog-output-pulse-width-modulation" class="md-nav__link">
    Varying Color and Brightness Using Analog Output (Pulse-Width Modulation)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#circuit-diagram" class="md-nav__link">
    Circuit Diagram
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code" class="md-nav__link">
    Code
  </a>
  
    <nav class="md-nav" aria-label="Code">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-analogwrite" class="md-nav__link">
    Using analogWrite
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-your-own-simple-functions" class="md-nav__link">
    Creating Your Own Simple Functions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-full-program" class="md-nav__link">
    The Full Program
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#working-example-on-tinkercad" class="md-nav__link">
    Working Example on Tinkercad
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#experiments" class="md-nav__link">
    Experiments
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#food-for-thought" class="md-nav__link">
    Food for Thought
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/CoderDojoTC/arduino/blob/master/docs/tinkercad/04-rgb-led.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="rgb-led-lab">RGB LED Lab</h1>
<p>In this lab, we will learn how to make an RGB (Red-Green-Blue) LED display different colors by mixing red, green, and blue light.</p>
<h2 id="concepts">Concepts</h2>
<h3 id="rgb-led">RGB LED</h3>
<p>An RGB LED is actually three small LEDs &mdash; one red, one green and one blue &mdash; inside a normal LED housing. The RGB LED included in this kit has all the internal LEDs share the same ground wire, so there are four legs in total. To turn one color on, ensure ground is connected, then power one of the legs just as you would a regular LED. If you turn on more than one color at a time, you will see the colors start to blend together to form a new color.</p>
<p>Just like a regular LED, an RGB LED is polarized and only allows electricity to flow in one direction. Pay close attention to the flat edge and to the different length legs. Both are indicators to help orient the LED correctly.</p>
<p>Here is a picture of an RGB LED with the legs labeled:</p>
<p><img alt="RGB LED diagram" src="../img/04-rgb-led-diagram.png" /></p>
<h3 id="varying-color-and-brightness-using-analog-output-pulse-width-modulation">Varying Color and Brightness Using Analog Output (Pulse-Width Modulation)</h3>
<p>In Circuit 3, you learned about analog output versus digital output. Now you are going to apply this knowledge to creating different colors of varying brightness.</p>
<p>You can use the <code>digitalWrite()</code> command to turn pins on the Arduino on (5V) or off (0V), but what if you want to output 2.5V? The Arduino doesn't have an analog output, but it is really good at switching some digital pins on and off fast enough to simulate an analog output. <code>analogWrite()</code> can output 2.5 volts by quickly switching a pin on and off so that the pin is only on 50 percent of the time (50% of 5V is 2.5V). By changing the percent of time that a pin is on, from 0 percent (always off) to 100 percent (always on), <code>analogWrite()</code> can output any voltage between 0 and 5V. This is what is known as pulse-width modulation (or PWM). By using PWM, you can create many different colors with the RGB LED.</p>
<p>Only a few of the digital pins on the Uno and RedBoard have the circuitry needed to turn on and off fast enough for PWM. These are pins 3, 5, 6, 9, 10 and 11. Each PWM pin is marked with a ~ on the board. Remember, you can only use <code>analogWrite()</code> on these pins.</p>
<p><img alt="PWM pins diagram" src="../img/04-pwm-pins.jpg" /></p>
<h3 id="circuit-diagram">Circuit Diagram</h3>
<p>Here is the circuit diagram we will use for our lab:</p>
<p><img alt="RGB LED circuit diagram" src="../img/04-rgb-led-circuit.PNG" /></p>
<h2 id="code">Code</h2>
<h3 id="using-analogwrite">Using <code>analogWrite</code></h3>
<p>The <code>analogWrite</code> function outputs a voltage between 0 and 5V to a pin. The function breaks the range between 0 and 5V into 255 little steps. That means each 50 steps corresponds to an increase of about 1 volt. By varying the voltage that gets sent to the red, green, and blue pins that are connected to the legs of the RGB LED, you can create 16,777,216 different colors. That's a lot of color!</p>
<h3 id="creating-your-own-simple-functions">Creating Your Own Simple Functions</h3>
<p>When programmers want to use a piece of code over and over again, they write a <strong>function</strong>. The simplest functions are just chunks of code that you give a name to. When you want to run that code, you can “call” the function by typing its name, instead of writing out all of the code. More complicated functions take and return pieces of information from the program (we call these pieces of information <strong>parameters</strong>). In this circuit, you'll write functions to turn the RGB LED different colors by just typing that color's name.</p>
<p>Here is a function that turns the RBG LED red:</p>
<div class="codehilite"><pre><span></span><code><span class="kt">void</span> <span class="nf">red</span> <span class="p">()</span>
<span class="p">{</span>
  <span class="n">analogWrite</span><span class="p">(</span><span class="n">RedPin</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
  <span class="n">analogWrite</span><span class="p">(</span><span class="n">GreenPin</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
  <span class="n">analogWrite</span><span class="p">(</span><span class="n">BluePin</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>


<h3 id="the-full-program">The Full Program</h3>
<p>Here is the full program:</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// LEDs are connected to these pins</span>
<span class="kt">int</span> <span class="n">RedPin</span> <span class="o">=</span> <span class="mi">9</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">GreenPin</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">BluePin</span> <span class="o">=</span> <span class="mi">11</span><span class="p">;</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Set the LED pins to output</span>
  <span class="n">pinMode</span><span class="p">(</span><span class="n">RedPin</span><span class="p">,</span> <span class="n">OUTPUT</span><span class="p">);</span>
  <span class="n">pinMode</span><span class="p">(</span><span class="n">GreenPin</span><span class="p">,</span> <span class="n">OUTPUT</span><span class="p">);</span>
  <span class="n">pinMode</span><span class="p">(</span><span class="n">BluePin</span><span class="p">,</span> <span class="n">OUTPUT</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Show each color for a second</span>
  <span class="n">red</span><span class="p">();</span>
  <span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
  <span class="n">orange</span><span class="p">();</span>
  <span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
  <span class="n">yellow</span><span class="p">();</span>
  <span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
  <span class="n">green</span><span class="p">();</span>
  <span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
  <span class="n">cyan</span><span class="p">();</span>
  <span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
  <span class="n">blue</span><span class="p">();</span>
  <span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
  <span class="n">magenta</span><span class="p">();</span>
  <span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>

  <span class="c1">// Turn the LED off for a second before starting over again</span>
  <span class="n">turnOff</span><span class="p">();</span>
  <span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/** Set the LED pins to values that make red. */</span>
<span class="kt">void</span> <span class="nf">red</span> <span class="p">()</span> <span class="p">{</span>
  <span class="n">analogWrite</span><span class="p">(</span><span class="n">RedPin</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
  <span class="n">analogWrite</span><span class="p">(</span><span class="n">GreenPin</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
  <span class="n">analogWrite</span><span class="p">(</span><span class="n">BluePin</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/** Set the LED pins to values that make orange. */</span>
<span class="kt">void</span> <span class="nf">orange</span> <span class="p">()</span> <span class="p">{</span>
  <span class="n">analogWrite</span><span class="p">(</span><span class="n">RedPin</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
  <span class="n">analogWrite</span><span class="p">(</span><span class="n">GreenPin</span><span class="p">,</span> <span class="mi">50</span><span class="p">);</span>
  <span class="n">analogWrite</span><span class="p">(</span><span class="n">BluePin</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/** Set the LED pins to values that make yellow. */</span>
<span class="kt">void</span> <span class="nf">yellow</span> <span class="p">()</span> <span class="p">{</span>
  <span class="n">analogWrite</span><span class="p">(</span><span class="n">RedPin</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
  <span class="n">analogWrite</span><span class="p">(</span><span class="n">GreenPin</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
  <span class="n">analogWrite</span><span class="p">(</span><span class="n">BluePin</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/** Set the LED pins to values that make green. */</span>
<span class="kt">void</span> <span class="nf">green</span> <span class="p">()</span> <span class="p">{</span>
  <span class="n">analogWrite</span><span class="p">(</span><span class="n">RedPin</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
  <span class="n">analogWrite</span><span class="p">(</span><span class="n">GreenPin</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
  <span class="n">analogWrite</span><span class="p">(</span><span class="n">BluePin</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/** Set the LED pins to values that make cyan. */</span>
<span class="kt">void</span> <span class="nf">cyan</span> <span class="p">()</span> <span class="p">{</span>
  <span class="n">analogWrite</span><span class="p">(</span><span class="n">RedPin</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
  <span class="n">analogWrite</span><span class="p">(</span><span class="n">GreenPin</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
  <span class="n">analogWrite</span><span class="p">(</span><span class="n">BluePin</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/** Set the LED pins to values that make blue */</span>
<span class="kt">void</span> <span class="nf">blue</span> <span class="p">()</span> <span class="p">{</span>
  <span class="n">analogWrite</span><span class="p">(</span><span class="n">RedPin</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
  <span class="n">analogWrite</span><span class="p">(</span><span class="n">GreenPin</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
  <span class="n">analogWrite</span><span class="p">(</span><span class="n">BluePin</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/** Set the LED pins to values that make magenta. */</span>
<span class="kt">void</span> <span class="nf">magenta</span> <span class="p">()</span> <span class="p">{</span>
  <span class="n">analogWrite</span><span class="p">(</span><span class="n">RedPin</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
  <span class="n">analogWrite</span><span class="p">(</span><span class="n">GreenPin</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
  <span class="n">analogWrite</span><span class="p">(</span><span class="n">BluePin</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/** Set all three LED pins to 0 or OFF */</span>
<span class="kt">void</span> <span class="nf">turnOff</span> <span class="p">()</span> <span class="p">{</span>
  <span class="n">analogWrite</span><span class="p">(</span><span class="n">RedPin</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
  <span class="n">analogWrite</span><span class="p">(</span><span class="n">GreenPin</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
  <span class="n">analogWrite</span><span class="p">(</span><span class="n">BluePin</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>


<p>You can type this into the Tinkercad program or copy this code and paste it into the Tinkercad code area.</p>
<h2 id="working-example-on-tinkercad">Working Example on Tinkercad</h2>
<p><a href="https://www.tinkercad.com/things/jTbXltJyBlT">RGB LED on Tinkercad</a></p>
<h2 id="experiments">Experiments</h2>
<ol>
<li>Can you create your own function to turn the RGB LED a different color?</li>
<li>Can you turn the RGB LED white?</li>
<li>Note that we are not turning the LED on to full brightness (255) in this code so that the light is not too bright. Try changing these values and see what happens.</li>
</ol>
<h2 id="food-for-thought">Food for Thought</h2>
<p>Why is it that to get white light, you mix red, green, and blue in equal amounts, but mixing red, green, and blue paint will not get you white paint?</p>
<p>If you would like to learn more about mixing light, here is a <a href="https://en.wikipedia.org/wiki/Color_mixing">Wikipedia Article on Color Mixing</a></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
  <footer class="md-footer">
    
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
          
            built with the <a href="http://microsite.optum.com">Micro-Site Builder</a>
        </div>
        
      </div>
    </div>
  </footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.d710d30a.min.js"></script>
      <script src="../../assets/javascripts/bundle.b39636ac.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.a68abb33.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>